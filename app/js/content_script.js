"use strict";!function(){function e(t){for(var r=e.options,n=r.parser[r.strictMode?"strict":"loose"].exec(t),o={},s=14;s--;)o[r.key[s]]=n[s]||"";return o[r.q.name]={},o[r.key[12]].replace(r.q.parser,function(e,t,n){t&&(o[r.q.name][t]=n)}),o}function t(){var t=document.getElementsByClassName("_4-u2 mbm _5v3q _4-u8"),n=Array.from(t).filter(function(e){return e.querySelector("a._3e_2._m8c")}),o=n.map(function(t){t.style.border="4px solid #FF8080";var n=t.querySelector("a._5pb8._8o._8s.lfloat._ohe"),o=e(n.href),s=t.querySelector("span.fwb.fcg a")?t.querySelector("span.fwb.fcg a").textContent:"",a=r(o,s);return a}),s={num_posts:t.length,ads:o};return s}function r(e,t){var r={advertiser:t,isPlaced:e.queryKey.hasOwnProperty("ft[insertion_position]"),placement:e.queryKey["ft[insertion_position]"]?parseInt(e.queryKey["ft[insertion_position]"],10)+1:0};return r}function n(){var e=document.querySelector("ol#stream-items-id"),t=Array.from(e.children).filter(function(e){if(e.hasAttribute("data-item-type"))return"tweet"===e.getAttribute("data-item-type")}),r=t.filter(function(e){return e.firstElementChild.classList.contains("promoted-tweet")}),n=r.map(function(e){var r=e.firstElementChild;r.style.border="4px solid #FF8080";var n={advertiser:r.getAttribute("data-name")?r.getAttribute("data-name"):"No name given",isPlaced:t.indexOf(e)!==-1,placement:t.indexOf(e)+1};return n}),o={num_posts:t.length,ads:n};return o}function o(t){var r=e(t);return"https"===r.protocol&&r.host.includes("facebook.com")?"facebook":!("https"!==r.protocol||!r.host.includes("twitter.com"))&&"twitter"}function s(e){var r=o(e);return"facebook"===r?t():"twitter"===r&&n()}document.URL.includes("facebook.com")?document.getElementById("mainContainer")&&(chrome.storage.local.set({num_ads:0}),document.addEventListener("scroll",function(){var e=s(document.URL),t=e?e.ads.length.toString():"0";chrome.runtime.sendMessage({from:"content_script",subject:"postLinks",badge_num:t,ad_data:e})})):document.URL.includes("twitter.com")?(chrome.storage.local.set({num_ads:0}),document.addEventListener("scroll",function(){var e=s(document.URL),t=e?e.ads.length.toString():"0";chrome.runtime.sendMessage({from:"content_script",subject:"postLinks",badge_num:t,ad_data:e})})):chrome.runtime.sendMessage({from:"content_script",subject:"postLinks",badge_num:"0"}),e.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}}}();
//# sourceMappingURL=content_script.js.map
